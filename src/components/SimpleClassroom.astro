---
// Minimal LiveClassroom - Just the essentials to get it working
interface Props {
  roomUrl: string;
  courseName: string;
  instructorName: string;
  sessionNumber: number;
  totalSessions: number;
}

const { roomUrl, courseName, instructorName, sessionNumber, totalSessions } = Astro.props;

// Build the embed URL
const embedUrl = new URL(roomUrl);
embedUrl.searchParams.set('embed', 'true');
embedUrl.searchParams.set('minimal', 'true');
---

<div class="classroom-container" style="max-width: 1200px; margin: 0 auto; padding: 1rem;">
  
  <!-- Simple Header -->
  <div style="background: linear-gradient(to right, #011F4B, #005A9C); color: white; padding: 1.5rem; border-radius: 1rem 1rem 0 0;">
    <h1 style="margin: 0 0 0.5rem 0; font-size: 1.75rem; font-weight: bold;">
      {courseName}
    </h1>
    <p style="margin: 0; opacity: 0.9;">
      Session {sessionNumber} of {totalSessions} â€¢ {instructorName}
    </p>
  </div>

  <!-- Video Embed -->
  <div style="position: relative; width: 100%; padding-bottom: 56.25%; background: #000; border-radius: 0 0 1rem 1rem; overflow: hidden;">
    <iframe
      src={embedUrl.toString()}
      allow="camera; microphone; fullscreen; speaker; display-capture"
      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;"
      title={`${courseName} - Live Class`}
    ></iframe>
  </div>

  <!-- Simple Tips -->
  <div style="margin-top: 1.5rem; padding: 1.5rem; background: #f9fafb; border-radius: 1rem; border: 1px solid #e5e7eb;">
    <h3 style="margin: 0 0 1rem 0; font-size: 1.125rem; font-weight: bold;">ðŸ’¡ Quick Tips</h3>
    <ul style="margin: 0; padding-left: 1.5rem; line-height: 1.75;">
      <li>Turn on your camera so the instructor can see you</li>
      <li>Use headphones to avoid echo</li>
      <li>Raise your hand before speaking</li>
      <li>Use the chat if you have questions</li>
    </ul>
  </div>

  <!-- Support -->
  <div style="margin-top: 1rem; text-align: center; color: #6b7280; font-size: 0.875rem;">
    <p>Having trouble? Call us at <strong>(555) 123-4567</strong></p>
  </div>
</div>

<style>
  /* Make it responsive */
  @media (max-width: 768px) {
    .classroom-container {
      padding: 0.5rem;
    }
  }
</style>